<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="google-signin-client_id" content="173734539372-5sgc5qa2gdt8f51e9o0c9a7463s3a9g4.apps.googleusercontent.com">
    <title>My Profile</title>
    <script src="https://apis.google.com/js/platform.js?onload=renderGoogleLogin" async defer></script>
    <script type="text/javascript" src="./resources/scripts/profile.js"></script>
    <link rel="stylesheet" type="text/css" href="./resources/CSS/profile.css" />
</head>
<body>
    <div class="container-fluid">
        <div id="uploadImage" class="modal fade panel-success" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content panel-success">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Upload new image</h4>
                    </div>
                    <div class="modal-body">
                        <form id="imgUploadForm" method="post" name="imgUploadForm" enctype="multipart/form-data">
                            <div class="row text-center">
                                <div class="form-group">
                                    <label class="btn btn-default btn-file">
                                        Browse <input id="image" name="image" accept="image/*" type="file" style="display: none;">
                                    </label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group text-center">
                                    <img id="previewImage" src="" class="img-circle img-responsive hidden" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group text-center">
                                    <button id="uploadNewImg" type="button" class="btn btn-primary hidden">
                                        Upload Picture
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="resetPassword" class="modal fade panel-danger" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content panel-danger">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Reset your Password</h4>
                    </div>
                    <div class="modal-body">
                        <form id="resetForm" method="post">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                <input name="password" type="password" class="form-control" id="firstResetPass" placeholder="New Password" />
                            </div>
                            <div class="input-group has-feedback">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                <input type="password" class="form-control" id="secondResetPass" placeholder="Confirm New Password" />
                            </div>
                            <input class="hidden form-control" name="userID" type="hidden" value="" />
                            <button id="resetSubmit" type="submit" name="action" form="resetForm" value="PasswordReset" class="btn btn-success">
                                Change Password
                            </button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="deleteAccount" class="modal fade panel-danger" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content panel-danger">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Delete your account</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-12">
                                <h1>Deleting your Account</h1>
                                <hr />
                                <p><em>Are you sure you would like to delete your account? You cannot undo this, and everything you've ever done with The Gift Hub will be erased. Permanently. Forever.</em></p>
                                <hr />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <p><em>To delete your account, type your email address into the box below.</em></p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <input id="deleteAccountEmail" class="form-control" type="email" name="deleteEmail" placeholder="Your Email Address" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <form id="deleteAccountFinal" method="post">
                                    <input type="hidden" name="type" value="User" />
                                    <input type="hidden" name="item" value="delete" />
                                    <button id="deleteAccountConfirm" class="btn btn-danger btn-block hidden" form="deleteAccountFinal" type="submit" name="action" value="Change">
                                        <i class="fa fa-trash-o"></i> Delete my Account. Permanently...
                                    </button>
                                </form>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button id="deleteAccountCancel" class="btn btn-success btn-block" role="button" type="button">
                                    <i class="fa fa-heart-o"></i> Return to Safety
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="changePreferences" class="modal fade panel-primary" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content panel-primary">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Change Preferences</h4>
                    </div>
                    <div class="modal-body">
                        <form id="preferenceForm" method="post">
                            <h5>Edit any field to update your information</h5>
                            <div class="row form-group">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                    <input name="userName" id="userNameChange" class="form-control" placeholder="Name" />
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-at"></i></span>
                                    <input name="userEmail" id="userEmailChange" class="form-control" placeholder="Email Address" type="email" />
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-6">
                                    <label for="birthdayMonth">Birthday (Month)</label>
                                    <select name="birthdayMonth" class="form-control" id="userBirthdayMonthChange">
                                        <optgroup label="Month">
                                            <option value="0">Select a Month</option>
                                            <option value="1">January</option>
                                            <option value="2">February</option>
                                            <option value="3">March</option>
                                            <option value="4">April</option>
                                            <option value="5">May</option>
                                            <option value="6">June</option>
                                            <option value="7">July</option>
                                            <option value="8">August</option>
                                            <option value="9">September</option>
                                            <option value="10">October</option>
                                            <option value="11">November</option>
                                            <option value="12">December</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="birthdayDay">Birthday (Day)</label>
                                    <select name="birthdayDay" id="userBirthdayDayChange" class="form-control">
                                        <optgroup id="days" label="Day"></optgroup>
                                    </select>
                                </div>
                            </div>
                            <div class="row form-group">
                                <label for="userBio">Bio</label>
                                <textarea name="userBio" class="form-control" rows="5" id="userBioChange"></textarea>
                            </div>
                            <div class="row form-group">
                                <label for="culture">Language</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-globe"></i></span>
                                    <select name="culture" id="userCulture" class="form-control"></select>
                                </div>
                            </div>
                            <div class="row form-group">
                                <h2>Sign in with Third Party Providers</h2>
                                <div class="row">
                                    <div class="col-md-6">
                                        <h3>Google: </h3>
                                    </div>
                                    <div class="col-md-6 text-center">
                                        <div class="oauth-status text-center" id="googleLoginStatus">
                                            <div class="oauth" id="googleLogin"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <h3>Facebook: </h3>
                                    </div>
                                    <div class="col-md-6 text-center">
                                        <div class="oauth-status text-center" id="facebookLoginStatus">
                                            <div class="fb-login-button oauth" data-scope="email,public_profile" onlogin="fbCheckLoginState" data-max-rows="1" data-size="large" data-button-type="login_with" data-show-faces="false" data-auto-logout-link="false" data-use-continue-as="false"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <button id="submitPref" type="button" class="btn btn-success" name="action" value="Preferences">
                                        <span class="glyphicon glyphicon-check"></span> Confirm
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <button id="accountDeleter" type="button" class="btn btn-danger btn-block">
                                        <i class="fa fa-trash-o"></i> Delete Account
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="addEvent" class="modal fade panel-info" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content panel-info">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Add New Event</h4>
                    </div>
                    <div class="modal-body">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="addGroup" class="modal fade panel-info" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content panel-info">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Add New Group</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row form-group">
                            <label for="groupName">Group Name</label>
                            <input name="groupName" id="newGroupName" class="form-control" placeholder="Group Name" />
                        </div>
                        <div class="row form-group">
                            <div class="input-group add-on">
                                <input class="form-control" placeholder="Search" name="addUser" id="newGroupAddUser" type="email" />
                                <div class="input-group-btn">
                                    <button id="searchNewUser" class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button>
                                </div>
                            </div>
                        </div>
                        <div id="userResult" class="row hidden form-group">
                            <div class="col-xs-6">
                                <p id="foundUser"></p>
                            </div>
                            <div class="col-xs-4">
                                <button id="groupAddUser" name="action" value="addUser" role="button" class="btn btn-success" type="button">
                                    Add User
                                </button>
                            </div>
                        </div>
                        <div class="row form-group">
                            <h2>Members:</h2>
                            <ul id="newGroupMembers" class="group-members"></ul>
                        </div>
                        <div class="row form-group">
                            <button id="createNewGroupSubmit" name="action" value="newGroup" role="button" class="btn btn-success">
                                Create new Group
                            </button>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="editEvent" class="modal fade panel-success" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content panel-success">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 id="editEventTitle" class="modal-title">Edit Event</h4>
                    </div>
                    <div class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="editGroup" class="modal fade panel-success" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content panel-success">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 id="editGroupTitle" class="modal-title">Edit Group</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row form-group">
                            <label for="groupName">Group Name</label>
                            <input name="groupName" id="editGroupName" class="form-control" placeholder="Group Name" />
                            <input type="hidden" id="editGroupId" />
                        </div>
                        <div class="row form-group">
                            <div class="input-group add-on">
                                <input class="form-control" placeholder="Search" name="addUser" id="editGroupAddUser" type="email" />
                                <div class="input-group-btn">
                                    <button id="editSearchUser" class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button>
                                </div>
                            </div>
                        </div>
                        <div id="editUserResult" class="row hidden form-group">
                            <div class="col-xs-6">
                                <p id="editFoundUser"></p>
                            </div>
                            <div class="col-xs-4">
                                <button id="editGroupNewUser" name="action" value="addUser" role="button" class="btn btn-success" type="button">
                                    Add User
                                </button>
                            </div>
                        </div>
                        <div class="row form-group">
                            <h2>Members:</h2>
                            <ul id="editGroupMembers" class="group-members"></ul>
                            <ul id="origGroupMembers" class="hidden"></ul>
                        </div>
                        <div class="row form-group">
                            <button id="editGroupSubmit" role="button" class="btn btn-success">
                                Save Changes
                            </button>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4 text-center">
                <!-- User Image -->
                <img id="userImage" type="button" data-tooltip="tooltip" data-placement="bottom auto" title="Click to select new image" data-toggle="modal" href="#uploadImage" class="img-circle img-responsive" src="resources/images/users/default.png" />
                <h1 id="userName" class="form-control-static"></h1>
                <!-- User Name -->
                <div class="row">
                    <div class="col-xs-6">
                        <button class="btn btn-lg btn-danger" type="button" id="resetPassword" data-toggle="modal" data-target="#resetPassword">
                            <div class="hidden-md hidden-sm hidden-xs">Change Password </div><span class="glyphicon glyphicon-lock"></span>
                        </button>
                    </div>
                    <div class="col-xs-6">
                        <button class="btn btn-lg btn-primary" type="button" id="changePreferences" data-toggle="modal" data-target="#changePreferences">
                            <div class="hidden-md hidden-sm hidden-xs">Preferences </div><span class="glyphicon glyphicon-cog"></span>
                        </button>
                    </div>
                </div>
                <h3 id="timeMember"></h3>
            </div>
            <div class="col-sm-5">
                <!-- User Information -->
                <h3 id="email"></h3>
                <h3 id="birthday"></h3>
                <h3>Bio: </h3>
                <p id="bio"></p>
            </div>
            <div class="col-sm-3 hidden-xs">
                <!-- Add Side Navigation Bar (From Dashboard) -->
                <div id="navigator" class="panel">
                    <div class="text-center panel-heading">Quick Links</div>
                    <div class="panel-body">
                        <ul class="nav nav-pills nav-stacked">
                            <li><a href=".?dest=dashboard">Dashboard</a></li>
                            <li><a href=".?dest=myList">My List</a></li>
                            <li class="active"><a href=".?dest=profile">My Account</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <h1 class="text-left">Events</h1>
                <table id="events"></table>
            </div>
            <div class="col-sm-4">
                <h1 class="text-left">Groups</h1>
                <table id="groups"></table>
            </div>
        </div>
    </div>
</body>
</html>